<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Lab 2 - Markers &amp; Popups </title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/business-casual.css" rel="stylesheet">

    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Slab:100,300,400,600,700,100italic,300italic,400italic,600italic,700italic" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <div class="brand">Lab 2. Markers &amp; Popups </div>
    <div class="address-bar">GES 387 - Interactive Cartography</div>

    <div class="container">

        <div class="row">
            <div class="box">

                <div class="col-lg-12 text-center" style="text-align:left">
              <h3>Overview</h3>
                    <p><i class="fa fa-spinner fa-spin"></i>  In this lab, we will add markers and popups to the basemap.</p>
                    <p><i class="fa fa-spinner fa-spin"></i>  Please submit your assignment via <b>Dropbox on D2L</b> according to the requirements in the Deliverables section at the bottom.</p>
                    <p style="color:red"><b><i class="fa fa-spinner fa-spin"></i>  Due: 11:59 pm, Wednesday, 9/28</b></p>


             <h3><i class="fa fa-paint-brush"></i> Set up basemap</h3>
             <ul>
                    <li>Before you start, create a <b>new file folder</b> (e.g., lab2) for this lab where you could save the html, css and javascript files later.</li>

                      <li>Think about how you would link to the Leaflet files (two JavaScript files (<code>leaflet-src.js</code> and <code>leaflet.js</code>), one CSS file (<code>leaflet.css</code>) and one folder named <code>images</code>) for this lab.  You have the options to: <br>
                        <ul >
                       <li><p style="font-size:14pt">Copy and paste <b>all of the four items</b> from your lab 1 folder to your lab 2 folder (same location as your HTML file). If you couldn't find the files, download the zip folder from <a href="https://drive.google.com/file/d/0BzvZaHCgmEmNRDZXWkt2aXNTNUk/view?usp=sharing" target="_blank">here</a>. </p></li>
                       <li><p style="font-size:14pt">Use relative URL (something like <code>"../lab1/leaflet.js"</code>) to directly point to the Leaflet files in your lab 1 folder. This way, you don't have to make copies of the Leaflet files.</p></li>
                     </ul>
                        <li>Open your <b>html editor</b> (e.g., <b>Atom</b>) and add the following lines to set up the basemap using the standard map tiles from <a href="https://www.openstreetmap.org/#map=2/-3.9/-131.1" target="_blank">OpenStreetMap</a>.<br> <br>
                        Note you may need to <b>modify the red part</b> if you want to use relative url to point to the leaflet files stored in a different folder. <br>
                    <pre>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Lab 2&lt;/title&gt;
        &lt;link rel="stylesheet" href="<span style="color:red">leaflet.css</span>" /&gt;
        &lt;script src="<span style="color:red">leaflet.js</span>"&gt;&lt;/script&gt;

    &lt;/head&gt;

    &lt;body&gt;
        &lt;div id="map" style="height: 500px"&gt;&lt;/div&gt;

        &lt;script type="text/javascript"&gt;
          var map = L.map('map').setView([37.8, -96], <span style="color:blue">4</span>);

          L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
               attribution: '<span style="color:#cc6600">@ &lt;a href="https://www.openstreetmap.org/copyright"&gt;OpenStreetMap&lt;/a&gt; contributors</span>',
               maxZoom: <span style="color:blue">4</span>,
               minZoom: <span style="color:blue">4</span>
            }).addTo(map);


        &lt;/script&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
                    Then, save the document as <code>map2.html</code> in your lab2 folder. Please remember to specify the file extension as <b>.html</b> to make it work. If you did everything right, your map should look like:<br>
                    <iframe src="map/map2.html" width=100% height=520 frameborder=0></iframe><br><br>
                    You may have noticed that the map is not zoomable. That is because we have set the <code>maxZoom</code> and <code>minZoom</code> to be the same, <i>i.e., 4, which is the zoom level used for initializing the map in <code>setView</code></i>. That way, we could "lock" the map to a certain scale.</li>
              </ul>



              <h3><i class="fa fa-paint-brush"></i> Add markers</h3>
                    <p>Now, we have the basemap setup and then we can add some other things to the map. </p>
                    <ul>
                      <li>Let's add a marker for Chicago. <code>L.marker</code> is used to put markers on the map. Add the following line to the <code>script</code> section, below the adding tile layer part:
                        <pre>
<span style="color:#a71d5d">var</span> marker1 = L.marker([<span style="color:blue">41.870989,-87.6334147</span>]).addTo(map);</pre>
                      The latitude and longitude of Chicago were used to define the geographic location for placing the marker. Similar to adding tiles, <code>addTo(map)</code> adds the markers to the <code>map</code> variable which holds the initialized map. <br><br>
                      Also note that we have assigned the marker to a variable called <code>marker1</code>. The variable will be used for binding popups later.

                      </li>
                      <li>Follow this structure, we can add more markers to the map. For example, I would add another one for Tallahassee, FL.
                        <pre>
<span style="color:#a71d5d">var</span> marker2 = L.marker([<span style="color:blue">30.4670648,-84.3969412</span>]).addTo(map);</pre>

                      We have assigned the marker to another variable called <code>marker2</code> so that it won't overrite the one for Chicago.<br><br>

                      If you have followed along, your map should look like:</li>
                      <iframe src="map/marker.html" width=100% height=520 frameborder=0></iframe><br><br>

                    </ul>

                    <h3><i class="fa fa-paint-brush"></i> Add popups</h3>
                    <p>Popups are usually used when you want to attach some information to a particular object on a map. To make things simple, let's attach popups to the markers using the <code>bindPopup</code> method.</p>
                    <ul>
                      <li>Following the two lines for adding markers, add:
                      <pre>
marker1.bindPopup("<span style="color:red">NEIU in Chicago</span>");
marker2.bindPopup("<span style="color:red">FSU in Tallahassee</span>");</pre>
                    We attached the popups to each marker (<code>marker1</code> and <code>marker2</code>) with some more information in the quotes. Then the popup appears when you click on the marker.</li>
                    </ul>
<br><br>

    </div>
    <!-- /.container -->
    <!-- <section id="deliverable"> -->
      <h2><i class="fa fa-map"></i>Deliverables</h2>
      <p>Please turn in <b>a separate html file for each question</b> below via Dropbox on D2L. There will be <b>FOUR</b> in total. You don't have to turn in the leaflet files as I will have them on my computer.</p>
      <ul>
        <li><b>Question 1:</b> Submit the html file you have just completed by following along the instructions (7 pts).</li>
        <li><b>Question 2:</b> Save the html file as <code>q2.html</code>. Modify the code to change the <b>basemap</b> to anything you prefer. Be sure to use the <b>appropriate attribution</b> (<i>You will find the attribution for Stamen and Mapbox from <a href="https://neiugis.github.io/lab1/" target="_blank">Lab 1</a></i>) (4 pts). </li>
        <li><b>Question 3:</b> Save the html file as <code>q3.html</code>. Modify the code to show the <b>global level</b> map, then add a marker and popup information for <b>Beijing, China</b>. Those are the three cities I have lived in (7 pts). </li>
        <li><b>Question 4:</b> Save the html file as <code>q4.html</code>. Make a map with AT LEAST THREE markers and popups for your selected topic, for example, places you have visited, your favorite restaurants, etc. (7 pts). </li>
      </ul><br>

      <h2><i class="fa fa-map"></i>Going Further (Optional)</h2>
      <p>Wonder how to use custom markers from image files in Leaflet? Check out the Leaflet Tutorial <a href=" http://leafletjs.com/examples/custom-icons.html">Markers With Custom Icons</a>.</p><br><br>
    </section>

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <p>Copyright &copy; Ting Liu 2016</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

</body>

</html>
